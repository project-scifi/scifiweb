{% load common %}
<form method="post">
    {% with errors=form.sender.errors %}
        <div class="field">
            <label class="label">Your email</label>
            <div class="control has-icons-left {% if errors %}has-icons-right{% endif %}">
                <input
                    class="input {% if errors %}is-danger{% endif %}"
                    name="sender"
                    type="email"
                    placeholder="email@example.com"
                    {% if form.sender.value is not None %}
                        value="{{form.sender.value}}"
                    {% endif %}
                />
                <span class="icon is-small is-left">
                    <i class="fa fa-envelope"></i>
                </span>
                {% if errors %}
                    <span class="icon is-small is-right">
                        <i class="fa fa-warning"></i>
                    </span>
                {% endif %}
            </div>
            {% for error in errors %}
                <p class="help is-danger">{{error}}</p>
            {% endfor %}
        </div>
    {% endwith %}
    {% with errors=form.subject.errors %}
        <div class="field">
            <label class="label">Subject</label>
            <div class="control {% if errors %}has-icons-right{% endif %}">
                <input
                    class="input {% if errors %}is-danger{% endif %}"
                    name="subject"
                    type="text"
                    placeholder="Subject"
                    {% if form.subject.value is not None %}
                        value="{{form.subject.value}}"
                    {% endif %}
                />
                {% if errors %}
                    <span class="icon is-small is-right">
                        <i class="fa fa-warning"></i>
                    </span>
                {% endif %}
            </div>
            {% for error in errors %}
                <p class="help is-danger">{{error}}</p>
            {% endfor %}
        </div>
    {% endwith %}
    {% with errors=form.message.errors %}
        <div class="field">
            <label class="label">Message</label>
            <div class="control">
                <textarea
                    class="textarea {% if errors %}is-danger{% endif %}"
                    name="message"
                    placeholder="Leave a message here..."
                >{% if form.message.value is not None %}{{form.message.value}}{% endif %}</textarea>
            </div>
            {% for error in errors %}
                <p class="help is-danger">{{error}}</p>
            {% endfor %}
        </div>
    {% endwith %}
    <div class="field">
        <label class="checkbox">
            <input
                name="cc_sender"
                type="checkbox"
                {% if form.cc_sender.value is not None %}
                    value="{{form.cc_sender.value}}"
                {% endif %}
            />
            Send me a copy of my message
        </label>
    </div>
    <div class="field">
        <div class="control">
            <button class="button is-primary is-small" type="submit">Submit</button>
        </div>
    </div>
</form>
